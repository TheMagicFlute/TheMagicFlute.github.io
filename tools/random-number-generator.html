<!DOCTYPE html>

<html lang="en">

<head>
    <title>Generate random num</title>
    <link rel="icon" href="../assets/img/Wolfgang-Amadeus-Mozart.svg">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/normalize.css">
    <script type="text/javascript" src="../js/random.js"></script>
</head>

<body>
    <noscript>
        "<strong>this page cannot work without JavaScript enabled. Please Enable it to continue.</strong>"
    </noscript>

    <br />
    <div id="overlay"
        style="margin: auto; width: 50%; border: 3px solid aqua; padding: 10px; text-align: center; align-items: center;">
        <!-- <div id="result" style="font-size: xx-large; color: red;"> </div> -->
        <br />
        <strong style="color: red;">VALUES MUST BE INTEGERS</strong>
        <br />
        <form action="javascript:show()">
            <input name="minNum" type="number" placeholder="min value here" value="1" required>
            <br />
            <input name="maxNum" type="number" placeholder="max value here" value="20" required>
            <br />
            <p style="color: white;">the number of random numbers here (at most 50 numbers):</p>
            <input name="num" type="number" value="1" min="1" max="50" required>
            <br />
            Deduplication: <input type="checkbox" name="deduplication" value="1">
            <br />
            <input type="submit" value="Generate">
        </form>
        <!-- <a href="?state=1">Generate</a> -->
    </div>

    <script>
        function show() {

            var min = parseInt(document.forms[0].elements["minNum"].value);
            var max = parseInt(document.forms[0].elements["maxNum"].value);
            var time = parseInt(document.forms[0].elements["num"].value);

            var deduplication = document.forms[0].elements["deduplication"].checked;

            var arr = [];
            if (deduplication && (max - min + 1) < time)
            {
                alert("Deduplication is on, but the number of random numbers is too large!");
                console.warn("Deduplication is on, but the number of random numbers is too large!");
                return;
            }
            for (var i = 0; i < time; i++) {
                var tmp = randomNum(min, max);
                if (deduplication && (arr.indexOf(tmp) == -1) || !deduplication) {
                    arr.push(tmp);
                } else {
                    i--;
                }
            }

            // document.getElementById("result").innerHTML = num.toString();
            alert("result: " + arr.toString());
            console.log("min: %d\nmax: %d\nresult: %s\nDeduplication: ", min, max, arr.toString(), deduplication);


        }
    </script>
</body>

</html>